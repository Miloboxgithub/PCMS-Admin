import{b as ge,G as Ve,X as De,v as I,c as V,f as e,K as Y,L as ze,J as ye,b2 as Fe,P as Re,p as je,aM as Ge,a6 as Ke,aO as Ue,N as Ce,d as Q,u as Ie,a7 as We,o as E,a as N,j as de,w as v,Y as J,e as P,n as z,aN as q,y as d,E as me,aC as Xe,Z,$ as he,l as U,aD as Ye,r as be,g as we,F as x,z as ee,t as Se,_ as Ee,D as qe,S as Je,bT as Ze,aR as Qe,m as xe,q as et,I as ne,A as tt}from"./index.12244a07.js";import{E as at,a as st}from"./el-col.9d5e7896.js";import{t as pe,E as ot}from"./el-image-viewer.56133767.js";import{E as lt}from"./el-card.ac56ffcc.js";import{u as nt}from"./index.893e1251.js";import"./debounce.b932a66e.js";import"./position.9ed88f6c.js";import"./index.bccee1bd.js";import"./scroll.4bdf40b7.js";const rt=ge({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},cardScale:{type:Number,default:.83},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0},motionBlur:Boolean}),ut={change:(o,r)=>[o,r].every(Ve)},ke=Symbol("carouselContextKey"),re="ElCarouselItem",_e=300,it=(o,r,p)=>{const{children:a,addChild:k,removeChild:f}=nt(Ce(),re),b=De(),s=I(-1),m=I(null),w=I(!1),n=I(),$=I(0),T=I(!0),_=I(!0),S=I(!1),j=V(()=>o.arrow!=="never"&&!e(A)),F=V(()=>a.value.some(t=>t.props.label.toString().length>0)),H=V(()=>o.type==="card"),A=V(()=>o.direction==="vertical"),l=V(()=>o.height!=="auto"?{height:o.height}:{height:`${$.value}px`,overflow:"hidden"}),u=pe(t=>{L(t)},_e,{trailing:!0}),g=pe(t=>{R(t)},_e),y=t=>T.value?s.value<=1?t<=1:t>1:!0;function C(){m.value&&(clearInterval(m.value),m.value=null)}function B(){o.interval<=0||!o.autoplay||m.value||(m.value=setInterval(()=>M(),o.interval))}const M=()=>{_.value||(S.value=!0),_.value=!1,s.value<a.value.length-1?s.value=s.value+1:o.loop?s.value=0:S.value=!1};function L(t){if(_.value||(S.value=!0),_.value=!1,Ge(t)){const D=a.value.filter(K=>K.props.name===t);D.length>0&&(t=a.value.indexOf(D[0]))}if(t=Number(t),Number.isNaN(t)||t!==Math.floor(t))return;const c=a.value.length,O=s.value;t<0?s.value=o.loop?c-1:0:t>=c?s.value=o.loop?0:c-1:s.value=t,O===s.value&&i(O),ie()}function i(t){a.value.forEach((c,O)=>{c.translateItem(O,s.value,t)})}function W(t,c){var O,D,K,ce;const X=e(a),fe=X.length;if(fe===0||!t.states.inStage)return!1;const Ae=c+1,Be=c-1,ve=fe-1,Le=X[ve].states.active,He=X[0].states.active,Oe=(D=(O=X[Ae])==null?void 0:O.states)==null?void 0:D.active,Pe=(ce=(K=X[Be])==null?void 0:K.states)==null?void 0:ce.active;return c===ve&&He||Oe?"left":c===0&&Le||Pe?"right":!1}function te(){w.value=!0,o.pauseOnHover&&C()}function ae(){w.value=!1,B()}function se(){S.value=!1}function h(t){e(A)||a.value.forEach((c,O)=>{t===W(c,O)&&(c.states.hover=!0)})}function ue(){e(A)||a.value.forEach(t=>{t.states.hover=!1})}function G(t){t!==s.value&&(_.value||(S.value=!0)),s.value=t}function R(t){o.trigger==="hover"&&t!==s.value&&(s.value=t,_.value||(S.value=!0))}function oe(){L(s.value-1)}function Me(){L(s.value+1)}function ie(){C(),o.pauseOnHover||B()}function Ne(t){o.height==="auto"&&($.value=t)}function $e(){var t;const c=(t=b.default)==null?void 0:t.call(b);if(!c)return null;const D=Ke(c).filter(K=>Ue(K)&&K.type.name===re);return(D==null?void 0:D.length)===2&&o.loop&&!H.value?(T.value=!0,D):(T.value=!1,null)}Y(()=>s.value,(t,c)=>{i(c),T.value&&(t=t%2,c=c%2),c>-1&&r("change",t,c)}),Y(()=>o.autoplay,t=>{t?B():C()}),Y(()=>o.loop,()=>{L(s.value)}),Y(()=>o.interval,()=>{ie()});const le=ze();return ye(()=>{Y(()=>a.value,()=>{a.value.length>0&&L(o.initialIndex)},{immediate:!0}),le.value=Fe(n.value,()=>{i()}),B()}),Re(()=>{C(),n.value&&le.value&&le.value.stop()}),je(ke,{root:n,isCardType:H,isVertical:A,items:a,loop:o.loop,cardScale:o.cardScale,addItem:k,removeItem:f,setActiveItem:L,setContainerHeight:Ne}),{root:n,activeIndex:s,arrowDisplay:j,hasLabel:F,hover:w,isCardType:H,isTransitioning:S,items:a,isVertical:A,containerStyle:l,isItemsTwoLength:T,handleButtonEnter:h,handleTransitionEnd:se,handleButtonLeave:ue,handleIndicatorClick:G,handleMouseEnter:te,handleMouseLeave:ae,setActiveItem:L,prev:oe,next:Me,PlaceholderItem:$e,isTwoLengthShow:y,throttledArrowClick:u,throttledIndicatorHover:g}},ct="ElCarousel",ft=Q({name:ct}),vt=Q({...ft,props:rt,emits:ut,setup(o,{expose:r,emit:p}){const a=o,{root:k,activeIndex:f,arrowDisplay:b,hasLabel:s,hover:m,isCardType:w,items:n,isVertical:$,containerStyle:T,handleButtonEnter:_,handleButtonLeave:S,isTransitioning:j,handleIndicatorClick:F,handleMouseEnter:H,handleMouseLeave:A,handleTransitionEnd:l,setActiveItem:u,prev:g,next:y,PlaceholderItem:C,isTwoLengthShow:B,throttledArrowClick:M,throttledIndicatorHover:L}=it(a,p),i=Ie("carousel"),{t:W}=We(),te=V(()=>{const h=[i.b(),i.m(a.direction)];return e(w)&&h.push(i.m("card")),h}),ae=V(()=>{const h=[i.e("container")];return a.motionBlur&&e(j)&&n.value.length>1&&h.push(e($)?`${i.namespace.value}-transitioning-vertical`:`${i.namespace.value}-transitioning`),h}),se=V(()=>{const h=[i.e("indicators"),i.em("indicators",a.direction)];return e(s)&&h.push(i.em("indicators","labels")),a.indicatorPosition==="outside"&&h.push(i.em("indicators","outside")),e($)&&h.push(i.em("indicators","right")),h});return r({activeIndex:f,setActiveItem:u,prev:g,next:y}),(h,ue)=>(E(),N("div",{ref_key:"root",ref:k,class:z(e(te)),onMouseenter:q(e(H),["stop"]),onMouseleave:q(e(A),["stop"])},[e(b)?(E(),de(he,{key:0,name:"carousel-arrow-left",persisted:""},{default:v(()=>[J(P("button",{type:"button",class:z([e(i).e("arrow"),e(i).em("arrow","left")]),"aria-label":e(W)("el.carousel.leftArrow"),onMouseenter:G=>e(_)("left"),onMouseleave:e(S),onClick:q(G=>e(M)(e(f)-1),["stop"])},[d(e(me),null,{default:v(()=>[d(e(Xe))]),_:1})],42,["aria-label","onMouseenter","onMouseleave","onClick"]),[[Z,(h.arrow==="always"||e(m))&&(a.loop||e(f)>0)]])]),_:1})):U("v-if",!0),e(b)?(E(),de(he,{key:1,name:"carousel-arrow-right",persisted:""},{default:v(()=>[J(P("button",{type:"button",class:z([e(i).e("arrow"),e(i).em("arrow","right")]),"aria-label":e(W)("el.carousel.rightArrow"),onMouseenter:G=>e(_)("right"),onMouseleave:e(S),onClick:q(G=>e(M)(e(f)+1),["stop"])},[d(e(me),null,{default:v(()=>[d(e(Ye))]),_:1})],42,["aria-label","onMouseenter","onMouseleave","onClick"]),[[Z,(h.arrow==="always"||e(m))&&(a.loop||e(f)<e(n).length-1)]])]),_:1})):U("v-if",!0),P("div",{class:z(e(ae)),style:we(e(T)),onTransitionend:e(l)},[d(e(C)),be(h.$slots,"default")],46,["onTransitionend"]),h.indicatorPosition!=="none"?(E(),N("ul",{key:2,class:z(e(se))},[(E(!0),N(x,null,ee(e(n),(G,R)=>J((E(),N("li",{key:R,class:z([e(i).e("indicator"),e(i).em("indicator",h.direction),e(i).is("active",R===e(f))]),onMouseenter:oe=>e(L)(R),onClick:q(oe=>e(F)(R),["stop"])},[P("button",{class:z(e(i).e("button")),"aria-label":e(W)("el.carousel.indicator",{index:R+1})},[e(s)?(E(),N("span",{key:0},Se(G.props.label),1)):U("v-if",!0)],10,["aria-label"])],42,["onMouseenter","onClick"])),[[Z,e(B)(R)]])),128))],2)):U("v-if",!0),a.motionBlur?(E(),N("svg",{key:3,xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{display:"none"}},[P("defs",null,[P("filter",{id:"elCarouselHorizontal"},[P("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"12,0"})]),P("filter",{id:"elCarouselVertical"},[P("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"0,10"})])])])):U("v-if",!0)],42,["onMouseenter","onMouseleave"]))}});var dt=Ee(vt,[["__file","carousel.vue"]]);const mt=ge({name:{type:String,default:""},label:{type:[String,Number],default:""}}),ht=o=>{const r=qe(ke),p=Ce(),a=I(),k=I(!1),f=I(0),b=I(1),s=I(!1),m=I(!1),w=I(!1),n=I(!1),{isCardType:$,isVertical:T,cardScale:_}=r;function S(l,u,g){const y=g-1,C=u-1,B=u+1,M=g/2;return u===0&&l===y?-1:u===y&&l===0?g:l<C&&u-l>=M?g+1:l>B&&l-u>=M?-2:l}function j(l,u){var g,y;const C=e(T)?((g=r.root.value)==null?void 0:g.offsetHeight)||0:((y=r.root.value)==null?void 0:y.offsetWidth)||0;return w.value?C*((2-_)*(l-u)+1)/4:l<u?-(1+_)*C/4:(3+_)*C/4}function F(l,u,g){const y=r.root.value;return y?((g?y.offsetHeight:y.offsetWidth)||0)*(l-u):0}const H=(l,u,g)=>{var y;const C=e($),B=(y=r.items.value.length)!=null?y:Number.NaN,M=l===u;!C&&!Qe(g)&&(n.value=M||l===g),!M&&B>2&&r.loop&&(l=S(l,u,B));const L=e(T);s.value=M,C?(w.value=Math.round(Math.abs(l-u))<=1,f.value=j(l,u),b.value=e(s)?1:_):f.value=F(l,u,L),m.value=!0,M&&a.value&&r.setContainerHeight(a.value.offsetHeight)};function A(){if(r&&e($)){const l=r.items.value.findIndex(({uid:u})=>u===p.uid);r.setActiveItem(l)}}return ye(()=>{r.addItem({props:o,states:Je({hover:k,translate:f,scale:b,active:s,ready:m,inStage:w,animating:n}),uid:p.uid,translateItem:H})}),Ze(()=>{r.removeItem(p.uid)}),{carouselItemRef:a,active:s,animating:n,hover:k,inStage:w,isVertical:T,translate:f,isCardType:$,scale:b,ready:m,handleItemClick:A}},pt=Q({name:re}),_t=Q({...pt,props:mt,setup(o){const r=o,p=Ie("carousel"),{carouselItemRef:a,active:k,animating:f,hover:b,inStage:s,isVertical:m,translate:w,isCardType:n,scale:$,ready:T,handleItemClick:_}=ht(r),S=V(()=>[p.e("item"),p.is("active",k.value),p.is("in-stage",s.value),p.is("hover",b.value),p.is("animating",f.value),{[p.em("item","card")]:n.value,[p.em("item","card-vertical")]:n.value&&m.value}]),j=V(()=>{const H=`${`translate${e(m)?"Y":"X"}`}(${e(w)}px)`,A=`scale(${e($)})`;return{transform:[H,A].join(" ")}});return(F,H)=>J((E(),N("div",{ref_key:"carouselItemRef",ref:a,class:z(e(S)),style:we(e(j)),onClick:e(_)},[e(n)?J((E(),N("div",{key:0,class:z(e(p).e("mask"))},null,2)),[[Z,!e(k)]]):U("v-if",!0),be(F.$slots,"default")],14,["onClick"])),[[Z,e(T)]])}});var Te=Ee(_t,[["__file","carousel-item.vue"]]);const gt=xe(dt,{CarouselItem:Te}),yt=et(Te);const Ct=Q({__name:"carousel",setup(o){const r=["https://cdn.pixabay.com/photo/2017/08/07/08/23/sea-2601374_640.jpg","https://cdn.pixabay.com/photo/2020/02/11/10/24/lake-4839058_640.jpg","https://cdn.pixabay.com/photo/2024/02/21/08/06/coast-8587004_640.jpg","https://cdn.pixabay.com/photo/2023/07/29/10/21/grasshopper-8156626_640.jpg"];return(p,a)=>{const k=yt,f=gt,b=lt,s=ot,m=at,w=st;return E(),N("div",null,[d(b,{class:"mgb20"},{header:v(()=>a[0]||(a[0]=[ne("\u57FA\u7840\u7528\u6CD5")])),default:v(()=>[d(f,{height:"400px"},{default:v(()=>[(E(),N(x,null,ee(4,n=>d(k,{key:n},{default:v(()=>[P("h3",null,Se(n),1)]),_:2},1024)),64))]),_:1})]),_:1}),d(w,{gutter:20},{default:v(()=>[d(m,{span:12},{default:v(()=>[d(b,{class:"mgb20"},{header:v(()=>a[1]||(a[1]=[ne("\u8F6E\u64AD\u56FE")])),default:v(()=>[d(f,{height:"300px"},{default:v(()=>[(E(),N(x,null,ee(r,n=>d(k,{key:n},{default:v(()=>[d(s,{class:"carousel-img",src:n,fit:"cover"},null,8,["src"])]),_:2},1024)),64))]),_:1})]),_:1})]),_:1}),d(m,{span:12},{default:v(()=>[d(b,{class:"mgb20"},{header:v(()=>a[2]||(a[2]=[ne("\u5361\u7247\u6A21\u5F0F")])),default:v(()=>[d(f,{height:"300px",type:"card"},{default:v(()=>[(E(),N(x,null,ee(r,n=>d(k,{key:n},{default:v(()=>[d(s,{class:"carousel-img",src:n,fit:"cover"},null,8,["src"])]),_:2},1024)),64))]),_:1})]),_:1})]),_:1})]),_:1})])}}});const $t=tt(Ct,[["__scopeId","data-v-41d608e7"]]);export{$t as default};

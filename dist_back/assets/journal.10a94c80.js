import{d as u,X as J,u as h,c as g,o as m,a as p,r as E,n as F,f as l,_ as y,g as k,m as K,q as S,v,K as O,J as P,bT as Q,j as X,w as f,Q as Y,y as d,T as C,I as B,e as b,z as L,F as V,ap as G,bf as W,t as Z,A as ee}from"./index.12244a07.js";import{E as te}from"./index.85100a56.js";import{b as le,a as se}from"./index.01a27f37.js";import{E as ne}from"./index.07ec0462.js";import"./strings.c7fbc6d7.js";import"./index.318875f8.js";import"./event.1aa8b38f.js";import"./index.bccee1bd.js";import"./scroll.4bdf40b7.js";import"./_baseIteratee.ef24a81b.js";import"./_Uint8Array.869745a5.js";import"./isEqual.3cc19f5b.js";import"./debounce.b932a66e.js";import"./date.8d8ac76d.js";import"./index.e921f451.js";const ae=u({name:"ElContainer"}),oe=u({...ae,props:{direction:{type:String}},setup(c){const t=c,s=J(),a=h("container"),r=g(()=>t.direction==="vertical"?!0:t.direction==="horizontal"?!1:s&&s.default?s.default().some(w=>{const _=w.type.name;return _==="ElHeader"||_==="ElFooter"}):!1);return(i,w)=>(m(),p("section",{class:F([l(a).b(),l(a).is("vertical",l(r))])},[E(i.$slots,"default")],2))}});var re=y(oe,[["__file","container.vue"]]);const ue=u({name:"ElAside"}),ce=u({...ue,props:{width:{type:String,default:null}},setup(c){const t=c,s=h("aside"),a=g(()=>t.width?s.cssVarBlock({width:t.width}):{});return(r,i)=>(m(),p("aside",{class:F(l(s).b()),style:k(l(a))},[E(r.$slots,"default")],6))}});var q=y(ce,[["__file","aside.vue"]]);const ie=u({name:"ElFooter"}),de=u({...ie,props:{height:{type:String,default:null}},setup(c){const t=c,s=h("footer"),a=g(()=>t.height?s.cssVarBlock({height:t.height}):{});return(r,i)=>(m(),p("footer",{class:F(l(s).b()),style:k(l(a))},[E(r.$slots,"default")],6))}});var z=y(de,[["__file","footer.vue"]]);const me=u({name:"ElHeader"}),fe=u({...me,props:{height:{type:String,default:null}},setup(c){const t=c,s=h("header"),a=g(()=>t.height?s.cssVarBlock({height:t.height}):{});return(r,i)=>(m(),p("header",{class:F(l(s).b()),style:k(l(a))},[E(r.$slots,"default")],6))}});var M=y(fe,[["__file","header.vue"]]);const pe=u({name:"ElMain"}),_e=u({...pe,setup(c){const t=h("main");return(s,a)=>(m(),p("main",{class:F(l(t).b())},[E(s.$slots,"default")],2))}});var T=y(_e,[["__file","main.vue"]]);const ve=K(re,{Aside:q,Footer:z,Header:M,Main:T});S(q);S(z);const ge=S(M),he=S(T),Ee={class:"log-entry"},Fe={class:"rows"},ye=u({name:"system-logviewer"}),we=u({...ye,setup(c){const t=v(null);let s=!1;const a=v(void 0),r=v(new Date),i=v([]),w=[{value:"common",label:"\u8FD0\u884C\u65E5\u5FD7"},{value:"access",label:"\u8BF7\u6C42\u65E5\u5FD7"},{value:"error",label:"\u9519\u8BEF\u65E5\u5FD7"}],_=v(null),D=()=>{Y(()=>{var e,o;if((e=_.value)!=null&&e.$el){const n=(o=_.value)==null?void 0:o.$el.querySelector(".el-scrollbar__wrap");n&&(n.scrollTop=n.scrollHeight)}})},x=e=>{const o=e,n=new Date(o),I=n.getFullYear(),j=String(n.getMonth()+1).padStart(2,"0"),U=String(n.getDate()).padStart(2,"0");return`${I}-${j}-${U}`},$=async()=>{const e=x(r.value);if(e=="1970-01-01")te.error("\u8BF7\u9009\u62E9\u65F6\u95F4");else{let o={type:a.value||"common",date:e};console.log(o),D()}},N=g(()=>e=>!H.value.includes(x(e))),R=async()=>{a.value};O(a,e=>{e&&(r.value=null,R())});const H=v([]);g(()=>i.value.filter(e=>{const o=!r.value||new Date(e.timestamp).toDateString()===r.value.toDateString(),n=!a.value||e.level.toLowerCase()===a.value.toLowerCase();return o&&n}));const A=()=>{!t.value||(s?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen():t.value.requestFullscreen?t.value.requestFullscreen():t.value.webkitRequestFullscreen?document.webkitRequestFullscreen():t.value.mozRequestFullScreen?document.mozRequestFullScreen():t.value.msRequestFullscreen&&document.msRequestFullscreen(),s=!s)};return P(()=>{const e=()=>{s=!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)};document.addEventListener("fullscreenchange",e),document.addEventListener("webkitfullscreenchange",e),document.addEventListener("mozfullscreenchange",e),document.addEventListener("MSFullscreenChange",e),Q(()=>{document.removeEventListener("fullscreenchange",e),document.removeEventListener("webkitfullscreenchange",e),document.removeEventListener("mozfullscreenchange",e),document.removeEventListener("MSFullscreenChange",e)}),t.value=document.querySelector(".log-viewer"),$(),D()}),(e,o)=>(m(),X(l(ve),{class:"log-viewer",ref_key:"fullscreenElement",ref:t},{default:f(()=>[d(l(ge),{class:"header"},{default:f(()=>[d(l(C),{type:"primary",onClick:A,style:{"margin-left":"10px"}},{default:f(()=>o[2]||(o[2]=[B("\u5168\u5C4F\u67E5\u770B\u65E5\u5FD7")])),_:1}),b("div",null,[d(l(le),{modelValue:a.value,"onUpdate:modelValue":o[0]||(o[0]=n=>a.value=n),placeholder:"\u8FD0\u884C\u65E5\u5FD7",style:{width:"200px"},class:"custom-select"},{default:f(()=>[(m(),p(V,null,L(w,n=>d(l(se),{key:n.value,label:n.label,value:n.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"]),d(l(ne),{modelValue:r.value,"onUpdate:modelValue":o[1]||(o[1]=n=>r.value=n),type:"date",placeholder:"\u9009\u62E9\u65E5\u671F",style:{width:"200px","margin-left":"10px"},class:"custom-datepicker","disabled-date":N.value},null,8,["modelValue","disabled-date"]),d(l(C),{type:"primary",onClick:$,icon:l(G),style:{"margin-left":"10px"}},{default:f(()=>o[3]||(o[3]=[B(" \u5237\u65B0\u65E5\u5FD7 ")])),_:1},8,["icon"])])]),_:1}),d(l(he),{class:"main-content"},{default:f(()=>[d(l(W),{ref_key:"scrollbar",ref:_,native:!0,"wrap-class":"custom-wrap","view-class":"custom-view"},{default:f(()=>[b("pre",Ee,[b("text",Fe,Z(i.value),1)]),(m(),p(V,null,L(10,n=>b("pre",{class:"log-entry",key:n},"\xA0")),64))]),_:1},512)]),_:1})]),_:1},512))}});const He=ee(we,[["__scopeId","data-v-6dfe4382"]]);export{He as default};
